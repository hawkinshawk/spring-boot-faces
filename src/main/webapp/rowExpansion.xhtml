<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<f:view>
	<h:head>
		<title>primefaces-demo</title>
	</h:head>
	<h:body>

		<h:form>
			<p:dataTable var="revision"
				value="#{rowExpansionView.revisions}"
				expandedRow="false">

				<p:columnGroup type="header">
					<p:row>
						<p:column headerText="Datenfeld" />
						<p:column headerText="alter Wert" />
						<p:column headerText="neuer Wert" />
						<p:column headerText="Änderungsgrund" />
						<p:column headerText="Benutzer" />
						<p:column headerText="Änderungsdatum" />
					</p:row>
				</p:columnGroup>

				<p:column headerText="Datenfeld">
					<p:rowToggler />
					<h:outputText value="Anzahl: #{revision.getFields().size()}" />
				</p:column>
				<p:column headerText="alter Wert">
					<h:outputText value="-" />
				</p:column>
				<p:column headerText="neuer Wert">
					<h:outputText value="-" />
				</p:column>
				<p:column headerText="Änderungsgrund">
					<h:outputText value="#{revision.aenderungsgrund}" />
				</p:column>
				<p:column headerText="Benutzer">
					<h:outputText value="#{revision.benutzer}" />
				</p:column>
				<p:column headerText="Änderungsdatum">
					<h:outputText value="#{revision.aenderungsdatum}" />
				</p:column>

				<p:rowExpansion>
					<p:dataTable var="field"
						value="#{revision.fields}">
						<p:column>
							<h:outputText value="#{field.datenfeld}" />
						</p:column>
						<p:column>
							<h:outputText value="#{field.alterWert}" />
						</p:column>
						<p:column>
							<h:outputText value="#{field.neuerWert}" />
						</p:column>
						<p:column>
							<h:outputText value="#{revision.aenderungsgrund}" />
						</p:column>
						<p:column>
							<h:outputText value="#{revision.benutzer}" />
						</p:column>
						<p:column>
							<h:outputText value="#{revision.aenderungsdatum}" />
						</p:column>
					</p:dataTable>
				</p:rowExpansion>
			</p:dataTable>
		</h:form>

	</h:body>
</f:view>
</html>
